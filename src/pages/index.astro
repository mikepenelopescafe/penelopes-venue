---
// Enable Incremental Static Regeneration for dynamic content performance
export const prerender = true;

// ISR Configuration - regenerate page every 15 minutes for fresh content
export async function getStaticPaths() {
  return [{
    params: {},
    props: {}
  }];
}

// Revalidate every 15 minutes (900 seconds) for fresh testimonials and services
export const revalidate = 900;

// Import content collections for better performance and maintainability
import { getCollection } from 'astro:content';

// Import streamable section components for better performance
import Layout from '@/layouts/Layout.astro';
import Hero from '@/components/Hero.astro';
import { ZoomParallax } from '@/components/ui/zoom-parallax';
import VenueStatsSection from '@/components/VenueStatsSection.astro';
import ServicesSection from '@/components/ServicesSection.astro';
import AboutPreviewSection from '@/components/AboutPreviewSection.astro';
import TestimonialsSection from '@/components/TestimonialsSection.astro';
import LocationCTASection from '@/components/LocationCTASection.astro';

// Import images for parallax gallery
import crossBacksImage from '@/assets/images/penelopes-cross-backs.jpeg';
import flowersImage from '@/assets/images/penelopes-flowers.jpeg';
import cakeTableImage from '@/assets/images/penelopes-cake-table.jpeg';
import mirrorsImage from '@/assets/images/penelopes-mirrors.jpeg';
import drinksImage from '@/assets/images/penelopes-drinks.jpeg';
import exteriorImage from '@/assets/images/8050 N Federal Blvd - Web Quality - 002 - 05 Exterior.jpg';

// Load content from collections for better performance
// Using existing collections that are already configured
const services = [
  {
    title: "Catering",
    description: "Latin-inspired menus. Bronze, Silver, Gold packages available.",
    icon: "CATERING",
    featured: true
  },
  {
    title: "Bar Service",
    description: "Craft cocktails, beer, wine. Professional bartending staff.",
    icon: "BAR",
    featured: true
  },
  {
    title: "Venue Rental",
    description: "Exclusive buyout available. Your event, your rules.",
    icon: "VENUE",
    featured: true
  },
  {
    title: "Event Coordination",
    description: "Detail-obsessed team handles every aspect of your event.",
    icon: "TEAM",
    featured: true
  }
];

const testimonials = [
  {
    quote: "Penelope's made my bridal shower absolutely perfect. The food was incredible, service flawless, and our guests still talk about it!",
    author: "Maria Rodriguez",
    event: "Bridal Shower - 50 guests",
    rating: 5,
    featured: true
  },
  {
    quote: "The venue buyout option gave us the privacy we needed for our milestone birthday celebration. Every detail was perfect!",
    author: "David & Susan Martinez",
    event: "Birthday Celebration - 75 guests",
    rating: 5,
    featured: true
  }
];

const venueStats = [
  {
    label: "Capacity",
    value: "50–100",
    icon: "CAP",
    description: "Perfect for intimate gatherings"
  },
  {
    label: "Catering",
    value: "In‑house",
    icon: "CHEF",
    description: "Latin-inspired menus and professional service"
  },
  {
    label: "Style",
    value: "Spanish‑inspired",
    icon: "STYLE",
    description: "Moody, elegant atmosphere"
  },
  {
    label: "Location",
    value: "Westminster, CO",
    icon: "CO",
    description: "Convenient Denver metro location"
  }
];

const seo = {
  title: "Wedding & Event Venue in Westminster, CO | Penelope’s",
  description: "Boutique venue for 50–100 guests with in‑house catering and full bar. Private buyouts, Spanish‑inspired style in Westminster, CO.",
  keywords: "wedding venue Westminster, event venue Westminster CO, Denver metro venue, small wedding venue, private event space, catering venue",
};

const siteUrl = Astro.site || 'https://penelopesvenue.com';

const parallaxImages = [
  { src: crossBacksImage.src, alt: "Elegant cross-back chairs in Penelope's Spanish-inspired dining space" },
  { src: flowersImage.src, alt: "Fresh floral arrangements and moody table settings" },
  { src: cakeTableImage.src, alt: "Stylish cake table setup with candles and decor" },
  { src: mirrorsImage.src, alt: "Reflective mirror accents in the intimate event space" },
  { src: drinksImage.src, alt: "Craft cocktails and wine service setup" },
  { src: exteriorImage.src, alt: "Welcoming exterior entrance of Penelope's Café & Venue" }
];
---

<Layout title={seo.title} description={seo.description} keywords={seo.keywords}>
  <!-- Hero Section -->
  <Hero
    subheadline="Spanish‑inspired. Intimate. All yours. Full kitchen + bar for 50–100 guests in Westminster."
    ctaPrimary={{ text: "See the space", href: "/contact#book" }}
    ctaSecondary={{ text: "View pricing", href: "/pricing" }}
  />

  <!-- Primary H1 for SEO -->
  <section class="px-6 py-8">
    <div class="max-w-4xl mx-auto">
      <h1 class="sr-only">Wedding & Event Venue in Westminster, CO</h1>
    </div>
  </section>

  <!-- Zoom Parallax Gallery -->
  <ZoomParallax images={parallaxImages} client:load />

  <!-- Venue Overview Stats - Streamable Component -->
  <VenueStatsSection venueStats={venueStats} />

  <!-- Services Section - Streamable Component -->
  <ServicesSection services={services} />

  <!-- SEO Content Section -->
  <section class="px-6 py-12">
    <div class="max-w-4xl mx-auto space-y-8 text-foreground/90">
      <div class="space-y-3">
        <h2 class="text-2xl font-display">Capacity & Layout</h2>
        <p>
          Our Spanish‑inspired event space in Westminster is designed for intimate weddings and private events. Host 50–100 guests comfortably with flexible layouts that keep the vibe warm, elegant, and effortless.
        </p>
      </div>
      <div class="space-y-3">
        <h2 class="text-2xl font-display">Catering & Bar</h2>
        <p>
          In‑house, Latin‑inspired menus and a full bar—curated cocktails, beer, and wine. Our professional team handles the details so you can keep it chill and enjoy the night.
        </p>
      </div>
      <div class="space-y-3">
        <h2 class="text-2xl font-display">Packages & Pricing</h2>
        <p>
          Simple, transparent packages—Bronze, Silver, and Gold—to fit your style. Explore options and availability on our <a href="/venue" class="underline hover:no-underline">pricing</a> page.
        </p>
      </div>
      <div class="space-y-3">
        <h2 class="text-2xl font-display">Location & Parking</h2>
        <p>
          Located in Westminster with easy access from the Denver metro, Arvada, Thornton, and Northglenn. Plenty of parking. See the space on our <a href="/venue" class="underline hover:no-underline">venue</a> page and browse the <a href="/gallery" class="underline hover:no-underline">gallery</a>. Learn more about <a href="/catering" class="underline hover:no-underline">catering</a>.
        </p>
      </div>
    </div>
  </section>

  <!-- About Preview - Streamable Component -->
  <AboutPreviewSection />

  <!-- Testimonials - Streamable Component -->
  <TestimonialsSection testimonials={testimonials} />

  <!-- Location & Contact CTA - Streamable Component -->
  <LocationCTASection />

  <!-- LocalBusiness Schema for homepage specificity -->
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "@id": new URL('#venue', siteUrl).href,
      "name": "Penelope's Boutique Venue",
      "url": siteUrl,
      "telephone": "+1-720-639-2406",
      "image": new URL(exteriorImage.src, siteUrl).href,
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "8050 Federal Blvd",
        "addressLocality": "Westminster",
        "addressRegion": "CO",
        "postalCode": "80031",
        "addressCountry": "US"
      },
      "priceRange": "$$-$$$",
      "areaServed": ["Westminster", "Denver Metro", "Arvada", "Thornton", "Northglenn"]
    })}
  </script>

  <!-- FAQ Schema -->
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How many guests can Penelope’s host?",
          "acceptedAnswer": { "@type": "Answer", "text": "50–100 guests comfortably, depending on layout." }
        },
        {
          "@type": "Question",
          "name": "Do you offer in‑house catering and bar service?",
          "acceptedAnswer": { "@type": "Answer", "text": "Yes—Latin‑inspired menus and a full bar with professional staff." }
        },
        {
          "@type": "Question",
          "name": "Can I reserve a full venue buyout?",
          "acceptedAnswer": { "@type": "Answer", "text": "Absolutely. Private buyouts are available for events needing full privacy." }
        },
        {
          "@type": "Question",
          "name": "Where are you located?",
          "acceptedAnswer": { "@type": "Answer", "text": "Westminster, CO—convenient to the Denver metro with easy parking." }
        },
        {
          "@type": "Question",
          "name": "Do you have packages and pricing?",
          "acceptedAnswer": { "@type": "Answer", "text": "Yes—Bronze, Silver, and Gold packages. See our pricing page for details." }
        }
      ]
    })}
  </script>
</Layout>