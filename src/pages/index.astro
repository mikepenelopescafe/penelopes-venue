---
// Enable Incremental Static Regeneration for dynamic content performance
export const prerender = true;

// ISR Configuration - regenerate page every 15 minutes for fresh content
export async function getStaticPaths() {
  return [{
    params: {},
    props: {}
  }];
}

// Revalidate every 15 minutes (900 seconds) for fresh testimonials and services
export const revalidate = 900;

// Import optimized ContentUtils for better performance and maintainability
import { ContentUtils } from '@/lib/content-utils';

// Import streamable section components for better performance
import Layout from '@/layouts/Layout.astro';
import Hero from '@/components/Hero.astro';
import { ZoomParallax } from '@/components/ui/zoom-parallax';
import VenueStatsSection from '@/components/VenueStatsSection.astro';
import ServicesSection from '@/components/ServicesSection.astro';
import AboutPreviewSection from '@/components/AboutPreviewSection.astro';
import TestimonialsSection from '@/components/TestimonialsSection.astro';
import LocationCTASection from '@/components/LocationCTASection.astro';

// Import images for parallax gallery
import crossBacksImage from '@/assets/images/penelopes-cross-backs.jpeg';
import flowersImage from '@/assets/images/penelopes-flowers.jpeg';
import cakeTableImage from '@/assets/images/penelopes-cake-table.jpeg';
import mirrorsImage from '@/assets/images/penelopes-mirrors.jpeg';
import drinksImage from '@/assets/images/penelopes-drinks.jpeg';
import exteriorImage from '@/assets/images/8050 N Federal Blvd - Web Quality - 002 - 05 Exterior.jpg';

// Load content from optimized collections with caching and error handling
const [servicesResult, testimonialsResult, venueStatsResult] = await Promise.all([
  ContentUtils.getCachedCollection('services'),
  ContentUtils.getCachedCollection('testimonialsFile'),
  ContentUtils.getCachedCollection('venueStats')
]);

// Extract data from results (with fallback handling)
const services = servicesResult.map(service => ({
  title: service.data.title,
  description: service.data.description,
  icon: service.data.icon,
  featured: service.data.featured
}));

const testimonials = testimonialsResult.map(testimonial => ({
  quote: testimonial.data.quote,
  author: testimonial.data.author,
  event: testimonial.data.event,
  rating: testimonial.data.rating,
  featured: testimonial.data.featured
}));

const venueStats = venueStatsResult.map(stat => ({
  label: stat.data.label,
  value: stat.data.value,
  icon: stat.data.icon,
  description: stat.data.description
}));

const seo = {
  title: "Wedding & Event Venue in Westminster, CO | Penelope’s",
  description: "Boutique venue for 50–100 guests with in‑house catering and full bar. Private buyouts, Spanish‑inspired style in Westminster, CO.",
  keywords: "wedding venue Westminster, event venue Westminster CO, Denver metro venue, small wedding venue, private event space, catering venue",
};

const siteUrl = Astro.site || 'https://penelopesboutiquevenue.com';

const parallaxImages = [
  { src: crossBacksImage.src, alt: "Elegant cross-back chairs in Penelope's Spanish-inspired dining space" },
  { src: flowersImage.src, alt: "Fresh floral arrangements and moody table settings" },
  { src: cakeTableImage.src, alt: "Stylish cake table setup with candles and decor" },
  { src: mirrorsImage.src, alt: "Reflective mirror accents in the intimate event space" },
  { src: drinksImage.src, alt: "Craft cocktails and wine service setup" },
  { src: exteriorImage.src, alt: "Welcoming exterior entrance of Penelope's Café & Venue" }
];
---

<Layout title={seo.title} description={seo.description} keywords={seo.keywords} ogImage={exteriorImage.src}>
  <!-- Hero Section -->
  <div data-ga-section="Hero">
  <Hero
    headline="Westminster's Boutique Wedding & Event Venue"
    subheadline="Spanish‑inspired. Intimate. Full kitchen + bar for 50–100 guests in Westminster."
    ctaPrimary={{ text: "See the space", href: "/contact#book" }}
    ctaSecondary={{ text: "View pricing", href: "/venue" }}
  />
  </div>

  <!-- Primary H1 for SEO -->
  <section class="px-6 py-8">
    <div class="max-w-4xl mx-auto">
      <h1 class="sr-only">Wedding & Event Venue in Westminster, CO</h1>
    </div>
  </section>

  <!-- Zoom Parallax Gallery -->
  <!-- <ZoomParallax images={parallaxImages} client:load />

  <!-- Venue Overview Stats - Streamable Component -->
  <div data-ga-section="Venue Stats">
    <VenueStatsSection venueStats={venueStats} />
  </div>

  <!-- Services Section - Streamable Component -->
  <div data-ga-section="Services">
    <ServicesSection services={services} />
  </div>

  <!-- SEO Content Section -->
  <section class="px-6 py-12" data-ga-section="SEO Content">
    <div class="max-w-4xl mx-auto space-y-8 text-foreground/90">
      <div class="space-y-3">
        <h2 class="text-2xl font-display">Westminster Wedding Venue Capacity & Layout</h2>
        <p>
          Our Spanish‑inspired event space in Westminster is designed for intimate weddings and private celebrations. Host 50–100 guests comfortably with flexible layouts that keep the vibe warm, elegant, and effortless. The venue features moody architectural details, warm lighting, and authentic Spanish design elements that create an intimate atmosphere perfect for milestone moments.
        </p>
      </div>
      <div class="space-y-3">
        <h2 class="text-2xl font-display">In-House Catering & Full Bar Service</h2>
        <p>
          Our Westminster venue features complete in‑house catering with Latin‑inspired menus and a full bar—curated craft cocktails, premium beer, and wine selection. Our professional culinary team creates fresh, seasonal dishes with authentic flavors, while our bartending staff handles all beverage service. Choose from Bronze, Silver, and Gold catering packages designed to fit your event style and budget.
        </p>
      </div>
      <div class="space-y-3">
        <h2 class="text-2xl font-display">Wedding & Event Packages</h2>
        <p>
          Simple, transparent packages—Bronze, Silver, and Gold—designed to fit your celebration style and budget. Each package includes venue rental, professional event coordination, and access to our full-service team. Private venue buyouts are available for events requiring complete privacy and personalized service. Explore detailed pricing and availability on our <a href="/venue" class="underline hover:no-underline">venue</a> page.
        </p>
      </div>
      <div class="space-y-3">
        <h2 class="text-2xl font-display">Westminster Location & Denver Metro Access</h2>
        <p>
          Conveniently located at 8050 Federal Blvd in Westminster, Colorado, with easy access from the Denver metro area, Arvada, Thornton, and Northglenn. Our venue offers ample parking and is perfectly positioned for guests traveling from throughout the Front Range. The location combines the intimate feel of a boutique venue with the convenience of metro accessibility. See detailed venue photos on our <a href="/venue" class="underline hover:no-underline">venue</a> page and browse our complete <a href="/gallery" class="underline hover:no-underline">gallery</a>. Learn more about our <a href="/catering" class="underline hover:no-underline">catering</a> options and menu selections.
        </p>
      </div>
    </div>
  </section>

  <!-- Seasonal Links Section -->
  <section class="px-6 py-12 bg-muted/30" data-ga-section="Seasonal">
    <div class="max-w-6xl mx-auto">
      <h2 class="text-2xl font-display mb-6">Seasonal</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <a href="/seasonal/holiday/" class="block p-5 rounded-md border border-border bg-background hover:bg-background/80 transition">
          <div class="text-lg font-medium">Holiday Parties — Westminster</div>
          <div class="text-sm text-muted-foreground">Book early. Warm Spanish style, effortless planning.</div>
        </a>
        <a href="/seasonal/christmas/" class="block p-5 rounded-md border border-border bg-background hover:bg-background/80 transition">
          <div class="text-lg font-medium">Christmas Parties</div>
          <div class="text-sm text-muted-foreground">Intimate scale, seasonal menus, curated cocktails.</div>
        </a>
        <a href="/seasonal/new-years/" class="block p-5 rounded-md border border-border bg-background hover:bg-background/80 transition">
          <div class="text-lg font-medium">New Year’s Eve</div>
          <div class="text-sm text-muted-foreground">Countdown in style. Late‑night options available.</div>
        </a>
        <a href="/seasonal/holiday/denver/" class="block p-5 rounded-md border border-border bg-background hover:bg-background/80 transition">
          <div class="text-lg font-medium">Holiday Parties — Denver</div>
          <div class="text-sm text-muted-foreground">Quick 15–20 min drive via I‑70/US‑36.</div>
        </a>
        <a href="/seasonal/holiday/arvada/" class="block p-5 rounded-md border border-border bg-background hover:bg-background/80 transition">
          <div class="text-lg font-medium">Holiday Parties — Arvada</div>
          <div class="text-sm text-muted-foreground">Fast access via Sheridan/Wadsworth → US‑36.</div>
        </a>
        <a href="/seasonal/holiday/broomfield/" class="block p-5 rounded-md border border-border bg-background hover:bg-background/80 transition">
          <div class="text-lg font-medium">Holiday Parties — Broomfield</div>
          <div class="text-sm text-muted-foreground">10–15 minutes via US‑36, easy parking.</div>
        </a>
      </div>
    </div>
  </section>

  <!-- About Preview - Streamable Component -->
  <div data-ga-section="About Preview">
    <AboutPreviewSection />
  </div>

  <!-- Testimonials - Streamable Component -->
  <div data-ga-section="Testimonials">
    <TestimonialsSection testimonials={testimonials} />
  </div>

  <!-- Location & Contact CTA - Streamable Component -->
  <div data-ga-section="Location CTA">
    <LocationCTASection />
  </div>

  <!-- LocalBusiness Schema for homepage specificity -->
  <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "@id": new URL('#venue', siteUrl).href,
      "name": "Penelope's Boutique Venue",
      "url": siteUrl,
      "telephone": "+1-720-639-2406",
      "image": new URL(exteriorImage.src, siteUrl).href,
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "8050 Federal Blvd",
        "addressLocality": "Westminster",
        "addressRegion": "CO",
        "postalCode": "80031",
        "addressCountry": "US"
      },
      "priceRange": "$$-$$$",
      "areaServed": ["Westminster", "Denver Metro", "Arvada", "Thornton", "Northglenn"]
    })} />

  <!-- FAQ Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How many guests can Penelope’s host?",
          "acceptedAnswer": { "@type": "Answer", "text": "50–100 guests comfortably, depending on layout." }
        },
        {
          "@type": "Question",
          "name": "Do you offer in‑house catering and bar service?",
          "acceptedAnswer": { "@type": "Answer", "text": "Yes—Latin‑inspired menus and a full bar with professional staff." }
        },
        {
          "@type": "Question",
          "name": "Can I reserve a full venue buyout?",
          "acceptedAnswer": { "@type": "Answer", "text": "Absolutely. Private buyouts are available for events needing full privacy." }
        },
        {
          "@type": "Question",
          "name": "Where are you located?",
          "acceptedAnswer": { "@type": "Answer", "text": "Westminster, CO—convenient to the Denver metro with easy parking." }
        },
        {
          "@type": "Question",
          "name": "Do you have packages and pricing?",
          "acceptedAnswer": { "@type": "Answer", "text": "Yes—Bronze, Silver, and Gold packages. See our venue page for details." }
        }
      ]
    })} />
</Layout>